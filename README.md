# S21Matrix Library

**S21Matrix** — это C++ библиотека для работы с матрицами с объектно-ориентированным подходом. Библиотека реализует основные операции с матрицами, включая сложение, умножение, транспонирование, вычисление обратной матрицы и определителя, а также вычисление матрицы алгебраических дополнений.

## Содержание

* [Возможности](#возможности)
* [Сборка](#сборка)
* [Исключения](#исключения)
* [Пример обработки исключений](#пример-обработки-исключений)
* [Пример операций с матрицами](#пример-операций-с-матрицами)
* [Логирование](#логирование)
* [Структура проекта](#структура-проекта)
* [Документация](#документация)

---

## Возможности

---

* Создание матриц произвольного размера
* Сравнение эквивалентности матриц
* Сложение, вычитание и умножение матриц
* Умножение матрицы на скаляр
* Транспонирование матрицы
* Вычисление детерминанта
* Нахождение обратной матрицы
* Вычисление матрицы алгебраических дополнений
* Операторные перегрузки для удобной работы

---

## Сборка

---

1. Клонируйте репозиторий:

```bash
git clone https://git.21-school.ru/students_repo/kierstep/CPP1_s21_matrixplus.ID_353533-1.git
cd CPP1_s21_matrixplus.ID_353533-1.git
```

2. Инициализируйте субмодули:

```bash
make init_submodules
```

3. Соберите библиотеку:

```bash
make
```

4. Для сборки с отладочной информацией используйте:

```bash
make DEBUG_LEVEL=1-4
```

> По умолчанию `DEBUG_LEVEL=2` — вывод ошибок и предупреждений.

---

## Исключения

---

Библиотека использует кастомные исключения для безопасной обработки ошибок:

| Exception                    | Когда выбрасывается                                                                 |
| ---------------------------- | ----------------------------------------------------------------------------------- |
| `MatrixError`                | Базовый класс всех ошибок матрицы                                                   |
| `MatrixSizeMismatchError`    | При операциях с элементами матриц разных размеров                                   |
| `MatrixRowColsError`         | При попытке умножения матриц с несоответствующими размерами                         |
| `MatrixNotSquareError`       | Когда операция требует квадратную матрицу (например, детерминант, обратная матрица) |
| `MatrixZeroDeterminantError` | При попытке вычислить обратную матрицу с нулевым детерминантом                      |
| `MatrixIndexOutOfRangeError` | При обращении к элементу матрицы вне допустимого диапазона                          |
| `MatrixIncorect`             | При попытке создать матрицу с нулевым количеством строк или колонок                 |

---

## Пример обработки исключений

```cpp
try {
    S21Matrix A(0, 3); // некорректный размер
} catch (const MatrixError & e) {
    std::cerr << "Error: " << e.what() << std::endl;
}
```

---

## Пример операций с матрицами

```cpp
S21Matrix A(2, 2);
S21Matrix B(2, 2);

A(0,0) = 1; A(0,1) = 2;
A(1,0) = 3; A(1,1) = 4;

B(0,0) = 5; B(0,1) = 6;
B(1,0) = 7; B(1,1) = 8;

S21Matrix C = A + B;          // сложение
S21Matrix D = A * B;          // умножение
S21Matrix E = A.Transpose();  // транспонирование
double det = A.Determinant(); // детерминант
```

---

## Логирование

---

Библиотека поддерживает логирование действий с матрицами с уровнями: `TRACE`, `INFO`, `WARN`, `ERROR`.
Уровень логирования можно настроить при сборке (`DEBUG_LEVEL`) или в коде через функции `logger.h`.

Пример логирования:

```cpp
log_trace("Вызвана функция func");
log_info("Создана матрица %dx%d", rows, cols);
log_warn("Попытка обращения к элементу вне диапазона");
log_error("Невозможно вычислить обратную матрицу с нулевым детерминантом");
```

---

## Структура проекта

---

```
.
├── src/            # исходники библиотеки
├── include/        # заголовочные файлы
├── example/        # примеры использования
├── Makefile        # сборка проекта
├── Doxyfile        # конфигурация для генерации документации
├── compile_commands.json
```

---

## Документация

---

Документация создается с помощью Doxygen:

```bash
doxygen Doxyfile
```

HTML-файлы появятся в `docs/html/index.html`.
